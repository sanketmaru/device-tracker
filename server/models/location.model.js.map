{"version":3,"sources":["server/models/location.model.js"],"names":["LocationSchema","Schema","userId","type","String","required","lat","lng","city","streetName","formattedAddress","country","createdAt","Date","default","now","method","statics","getByUserId","find","exec","then","locations","err","NOT_FOUND","reject","getByLatLng","locationExist","locKey","loc","distance","getDistance","latitude","longitude","FOUND","list","skip","limit","sort","model"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGA,IAAMA,iBAAiB,IAAI,mBAASC,MAAb,CAAoB;AACzCC,UAAQ;AACNC,UAAMC,MADA;AAENC,cAAU;AAFJ,GADiC;AAKzCC,OAAK;AACHH,UAAMC,MADH;AAEHC,cAAU;AAFP,GALoC;AASzCE,OAAK;AACHJ,UAAMC,MADH;AAEHC,cAAU;AAFP,GAToC;AAazCG,QAAM;AACJL,UAAMC,MADF;AAEJC,cAAU;AAFN,GAbmC;AAiBzCI,cAAY;AACVN,UAAMC,MADI;AAEVC,cAAU;AAFA,GAjB6B;AAqBzCK,oBAAkB;AAChBP,UAAMC,MADU;AAEhBC,cAAU;AAFM,GArBuB;AAyBzCM,WAAS;AACPR,UAAMC,MADC;AAEPC,cAAU;AAFH,GAzBgC;AA6BzCO,aAAW;AACTT,UAAMU,IADG;AAETC,aAASD,KAAKE;AAFL;AA7B8B,CAApB,CAAvB;;AAmCA;;;;;;;AAOA;;;AAGAf,eAAegB,MAAf,CAAsB,EAAtB;;AAGA;;;AAGAhB,eAAeiB,OAAf,GAAyB;;AAGvB;;;;;AAKAC,aARuB,uBAQXhB,MARW,EAQH;AAClB,WAAO,KAAKiB,IAAL,CAAU,EAACjB,QAASA,MAAV,EAAV,EACJkB,IADI,GAEJC,IAFI,CAEC,UAACC,SAAD,EAAe;AACnB,UAAIA,SAAJ,EAAe;AACb,eAAOA,SAAP;AACD;AACD,UAAMC,MAAM,uBAAa,2BAAb,EAA0C,qBAAWC,SAArD,CAAZ;AACA,aAAO,mBAAQC,MAAR,CAAeF,GAAf,CAAP;AACD,KARI,CAAP;AASD,GAlBsB;;;AAoBvB;;;;;AAKAG,aAzBuB,uBAyBXxB,MAzBW,EAyBHI,GAzBG,EAyBEC,GAzBF,EAyBO;;AAE5B,WAAO,KAAKW,WAAL,CAAiBhB,MAAjB,EAAyB;AAAzB,KACJmB,IADI,CACC,UAASC,SAAT,EAAmB;AACvB,UAAIK,gBAAgB,KAApB;AACA,WAAI,IAAIC,MAAR,IAAkBN,SAAlB,EAA6B;AAC3B,YAAIO,MAAMP,UAAUM,MAAV,CAAV;;AAEA,YAAIE,WAAW,iBAAOC,WAAP,CACX,EAAEC,UAAW1B,GAAb,EAAkB2B,WAAW1B,GAA7B,EADW,EAEX,EAAEyB,UAAWH,IAAIvB,GAAjB,EAAsB2B,WAAWJ,IAAItB,GAArC,EAFW,CAAf;;AAKA,YAAGuB,WAAW,IAAd,EAAoB;AAAE;AACpBH,0BAAgB,IAAhB;AACA;AACD;AACF;;AAED,UAAGA,aAAH,EAAkB;AAChB,YAAMJ,MAAM,uBAAa,mBAAb,EAAkC,qBAAWW,KAA7C,CAAZ;AACA,eAAO,mBAAQT,MAAR,CAAeF,GAAf,CAAP;AACD;AACD,aAAOD,SAAP;AACD,KAtBI,CAAP;AAwBD,GAnDsB;;;AAqDvB;;;;;;AAMAa,MA3DuB,kBA2Da;AAAA,mFAAJ,EAAI;AAAA,yBAA7BC,IAA6B;AAAA,QAA7BA,IAA6B,6BAAtB,CAAsB;AAAA,0BAAnBC,KAAmB;AAAA,QAAnBA,KAAmB,8BAAX,EAAW;;AAClC,WAAO,KAAKlB,IAAL,GACJmB,IADI,CACC,EAAE1B,WAAW,CAAC,CAAd,EADD,EAEJwB,IAFI,CAEC,CAACA,IAFF,EAGJC,KAHI,CAGE,CAACA,KAHH,EAIJjB,IAJI,EAAP;AAKD;AAjEsB,CAAzB;;AAoEA;;;kBAGe,mBAASmB,KAAT,CAAe,UAAf,EAA2BvC,cAA3B,C","file":"location.model.js","sourceRoot":"../../../../.."}